<ion-app>
  <!-- Menú lateral -->
  <ion-menu contentId="main-content" side="start" class=" bg-opacity-80 backdrop-filter backdrop-blur-lg">
    <ion-header class="ion-no-border">
      <ion-toolbar class="bg-transparent">
        <div class="flex justify-center items-center p-4">
          <img src="assets/img/logo_duoc_white.png" class="w-32 h-auto" alt="duoc" />
        </div>
      </ion-toolbar>
    </ion-header>
    <ion-content class="bg-transparent">
      <ion-list lines="none" class="px-4 py-6 bg-transparent">
        <ion-item routerLink="/principal" routerDirection="root" detail={false} class="mb-4 bg-transparent">
          <ion-icon slot="start" name="home-outline" color="primary" class="text-xl"></ion-icon>
          <ion-label class="font-medium">Inicio</ion-label>
        </ion-item>
        <ion-item routerLink="/asistencia-page" routerDirection="root" detail={false} class="mb-4 bg-transparent">
          <ion-icon slot="start" name="qr-code-outline" color="primary" class="text-xl"></ion-icon>
          <ion-label class="font-medium">Leer QR</ion-label>
        </ion-item>
        <ion-item routerLink="/profile" routerDirection="root" detail={false} class="mb-4 bg-transparent">
          <ion-icon slot="start" name="person-outline" color="primary" class="text-xl"></ion-icon>
          <ion-label class="font-medium">Perfil Estudiantil</ion-label>
        </ion-item>
        <ion-item routerLink="/soporte" routerDirection="root" detail={false} class="mb-4 bg-transparent">
          <ion-icon slot="start" name="hammer-outline" color="primary" class="text-xl"></ion-icon>
          <ion-label class="font-medium">Soporte</ion-label>
        </ion-item>
        <ion-item routerLink="/home" routerDirection="root" detail={false} class="mb-4 bg-transparent">
          <ion-icon slot="start" name="log-out-outline" color="primary" class="text-xl"></ion-icon>
          <ion-label class="font-medium">Cerrar Sesión</ion-label>
        </ion-item>
      </ion-list>
    </ion-content>
  </ion-menu>
  <!-- Contenido principal -->
  <ion-router-outlet id="main-content"></ion-router-outlet>

  <!-- Header del contenido principal -->
  <ion-header [translucent]="true" mode="ios">
    <ion-toolbar class="bg-gradient-to-r from-blue-900 to-blue-700">
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title class="text-xl text-center flex items-center">
        <ion-icon name="qr-code-outline" class="text-xl mb-1 align-middle"></ion-icon>
        Registrar Asistencia
      </ion-title>
    </ion-toolbar>
  </ion-header>

  <!-- Saludo de Bienvenida -->
  <ion-content class="text-center" [scrollY]="false">
    <!-- Imagen en el menú principal -->
    <div class="menu-content block max-w-[95%] h-auto my-5 mx-auto">
      <ion-img src="assets/img/asistencia.jpg"></ion-img>
    </div>
    <div class="container mx-auto p-4 mt-4 rounded-lg">
      <h2 class="text-xl font-bold mb-4">
        Clases disponibles para <strong>{{correo}}</strong>
      </h2>
      <div>
        <p class="text-gray-600 mb-2">Seleccione las clase a registrar:</p>
        <ion-item class="mb-4">
          <ion-label>Clases Inscritas:</ion-label>
          <ion-select [(ngModel)]="claseSeleccionada" [disabled]="desabilitarSelectClases"
            (ionChange)="cambiarSelectedMode()" placeholder="Escoge una clase" class="border rounded-md shadow-sm">
            <ion-select-option *ngFor="let clase of student?.clases" [value]="clase">
              {{clase.nombre}}
            </ion-select-option>
          </ion-select>
        </ion-item>
      </div>

      <div *ngIf="!hayHorariosDisponibles">
        <p class="text-red-600">
          No hay horarios disponibles para la clase seleccionada.
        </p>
      </div>

      <div *ngIf="hayHorariosDisponibles">
        <p class="text-gray-600 mb-2">Seleccione el horario de la clase:</p>
        <ion-item class="mb-4">
          <ion-label>Horario disponible:</ion-label>
          <ion-select [(ngModel)]="horarioSeleccionado" placeholder="Escoge el horario"
            class="border rounded-md shadow-sm" (ionChange)="hayHorario()">
            <ion-select-option *ngFor="let horario of claseSeleccionada?.horarios" [value]="horario">
              {{horario}}
            </ion-select-option>
          </ion-select>
        </ion-item>
      </div>

      <div class="container" *ngIf="hayHorarioDisponible">
        <ion-button class="mt-3" expand="fill" fill="outline" shape="round" (click)="scan()">
          <ion-icon class="mr-1" name="camera"></ion-icon>
          <ion-label>Abrir camara y escanear</ion-label>
        </ion-button>
      </div>
    </div>
  </ion-content>
  <!--Footer-->
  <ion-footer [translucent]="true" mode="ios">
    <ion-toolbar>
      <ion-title class="text-center"> © Duoc UC 2024 </ion-title>
    </ion-toolbar>
  </ion-footer>
</ion-app>